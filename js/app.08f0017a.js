(function(t){function e(e){for(var n,r,c=e[0],s=e[1],l=e[2],d=0,f=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==i[s]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/bookkeeping-website/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0100":function(t,e,a){"use strict";var n=a("479c"),i=a.n(n);i.a},"02f6":function(t,e,a){"use strict";var n=a("ae34"),i=a.n(n);i.a},"09a1":function(t,e,a){"use strict";var n=a("ff21"),i=a.n(n);i.a},"09bc":function(t,e,a){},"188a":function(t,e,a){},"1d09":function(t,e,a){"use strict";var n=a("8569"),i=a.n(n);i.a},2261:function(t,e,a){},"258a":function(t,e,a){},"2d45":function(t,e,a){},"2d46":function(t,e,a){"use strict";var n=a("352b"),i=a.n(n);i.a},"33d0":function(t,e,a){"use strict";var n=a("188a"),i=a.n(n);i.a},"33ec":function(t,e,a){},"352b":function(t,e,a){},"37bb":function(t,e,a){"use strict";var n=a("9f4d"),i=a.n(n);i.a},4294:function(t,e,a){t.exports=a.p+"img/default-avatar.831d4bb4.png"},"44a1":function(t,e,a){},"479c":function(t,e,a){},"4b6e":function(t,e,a){"use strict";var n=a("5e2f"),i=a.n(n);i.a},"4e5c":function(t,e,a){"use strict";var n=a("65d3"),i=a.n(n);i.a},5205:function(t,e,a){},"587b":function(t,e,a){},"5a98":function(t,e,a){"use strict";var n=a("a179"),i=a.n(n);i.a},"5dd5":function(t,e,a){"use strict";var n=a("9737"),i=a.n(n);i.a},"5e2f":function(t,e,a){},"5e5c":function(t,e,a){},"63d7":function(t,e,a){"use strict";var n=a("923f"),i=a.n(n);i.a},"65d3":function(t,e,a){},6717:function(t,e,a){"use strict";var n=a("587b"),i=a.n(n);i.a},"6ec8":function(t,e,a){},"759f":function(t,e,a){"use strict";var n=a("09bc"),i=a.n(n);i.a},"81ef":function(t,e,a){},8569:function(t,e,a){},"923f":function(t,e,a){},"94cf":function(t,e,a){},9505:function(t,e,a){},"95a5":function(t,e,a){},9737:function(t,e,a){},"9ae7":function(t,e,a){"use strict";var n=a("c050"),i=a.n(n);i.a},"9f4d":function(t,e,a){},a179:function(t,e,a){},a4c8:function(t,e,a){"use strict";var n=a("5e5c"),i=a.n(n);i.a},ae34:function(t,e,a){},b57f:function(t,e,a){"use strict";var n=a("258a"),i=a.n(n);i.a},bfaf:function(t,e,a){"use strict";var n=a("2261"),i=a.n(n);i.a},c050:function(t,e,a){},c4b7:function(t,e,a){"use strict";var n=a("e64d"),i=a.n(n);i.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Layout",[a("router-view")],1)],1)},o=[],r=a("2877"),c={},s=Object(r["a"])(c,i,o,!1,null,null,null),l=s.exports,u=a("9483");Object(u["a"])("".concat("/bookkeeping-website/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var d=a("5f5b"),f=a("b1e0"),p=(a("f9e3"),a("2dd8"),a("8c4f")),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{title:"账目明细",removeBackArrow:!0}},[a("div",{staticClass:"dashboardIcon"},[a("router-link",{attrs:{to:t.dashboardPath()}},[a("i",{staticClass:"fas fa-chart-line"})])],1)]),a("Details",{attrs:{categories:t.categories,details:t.details},on:{"update:categories":function(e){t.categories=e},"update:details":function(e){t.details=e}}})],1)},v=[],b=a("d4ec"),h=a("bee2"),g=a("262e"),m=a("2caf"),O=a("9ab4"),j=a("60a3"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detailsContainer"},[a("MonthlyBill",{attrs:{details:t.details,disableMonthSelector:!1,defaultDate:t.date},on:{"update:details":function(e){t.details=e},"update:defaultDate":function(e){t.date=e},"update:default-date":function(e){t.date=e},setDate:t.setDate}}),a("Collection",{attrs:{categories:t.categories,monthlyDetails:t.monthlyDetails},on:{"update:categories":function(e){t.categories=e},"update:monthlyDetails":function(e){t.monthlyDetails=e},"update:monthly-details":function(e){t.monthlyDetails=e}}})],1)},k=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monthlyBillWrapper"},[a("div",{staticClass:"top"},[a("div",{staticClass:"date",on:{click:function(e){!t.disableMonthSelector&&t.calendarToggle()}}},[t._v(" "+t._s(t.year)+"年"+t._s(t.month)+"月账单 "),t.disableMonthSelector?t._e():a("i",{staticClass:"fas fa-chevron-down"})]),t.disableMonthSelector?a("div",{staticClass:"arrow"},[a("i",{staticClass:"fas fa-chevron-right"})]):t._e()]),a("div",{staticClass:"bill"},t._l(t.PRESETS,(function(e,n){return a("ul",{key:n},[a("li",[t._v(t._s(e[0]))]),a("li",{class:{amount:!0,green:"profit"===e[1]&&t.a,red:"profit"===e[1]&&!t.a}},[t._v(" "+t._s(t.formatCurrency(t.monthlyBill[e[1]]))+" ")])])})),0),a("Calendar",{attrs:{calendarShow:t.calendarShow,defaultDate:t.date},on:{"update:calendarShow":function(e){t.calendarShow=e},"update:calendar-show":function(e){t.calendarShow=e},onContext:t.onContext,calendarClose:t.calendarClose}})],1)},w=[],x=a("7070"),S=a("727c"),T=(a("4de4"),a("7db0"),a("d81d"),a("b64b"),a("5530")),D=a("b166"),E=a("2ef0"),$=function(t,e,a){return t.length?t.filter((function(t){return Object(x["a"])(new Date(t.createdAt))===e-1&&Object(S["a"])(new Date(t.createdAt))===a})):[]},I=function(t){if(t.length){var e=t.map((function(t){return Object(T["a"])({},t,{createdAt:new Date(Object(D["a"])(new Date(t.createdAt),"yyyy-MM-dd"))})})),a=Object(E["groupBy"])(e,"createdAt");return Object(E["sortBy"])(Object.keys(a).map((function(t){return{date:new Date(t),items:a[t],totalIncome:Object(E["sumBy"])(a[t].filter((function(t){return"income"===t.type})),"amount"),totalExpenditure:Object(E["sumBy"])(a[t].filter((function(t){return"expenditure"===t.type})),"amount")}})),"date").reverse()}return[]},M=function(t){if(0===t.length)return{totalIncome:0,totalExpenditure:0,profit:0};var e=function(e){var a=t.filter((function(t){return t.type===e}));return Object(E["sumBy"])(a,"amount")},a=e("income"),n=e("expenditure"),i=a-n;return{totalIncome:a,totalExpenditure:n,profit:i}},N=function(t,e){if(0===t.length)return[];var a=Object(E["groupBy"])(t,"categoryId"),n=Object.keys(a).map((function(t){var n=e.find((function(e){return e.id===t})),i=Object(E["sumBy"])(a[t],"amount");return{category:n,totalAmount:i}}));return Object(E["sortBy"])(n,"totalAmount").reverse()},B=(a("caad"),a("b680"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"currency",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t&&0!==t)return null;var n=Object(T["a"])({minimumFractionDigits:2,style:e,currency:"CNY"},a);return["currency","percent"].includes(e)?t.toLocaleString("zh-CN",n):"count"==e?t.toFixed(0):"num"==e?t.toLocaleString():t.toFixed(2)}),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.calendarShow?a("div",{staticClass:"calendar"},[a("b-calendar",{attrs:{locale:"zh"},on:{selected:function(e){return t.onClose()},context:t.onContext},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("div",{staticClass:"close",on:{click:function(e){return t.onClose()}}},[a("i",{staticClass:"far fa-times-circle"})])],1):t._e()},A=[],L=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.date=t.defaultDate,t}return Object(h["a"])(a,[{key:"onClose",value:function(){this.$emit("calendarClose")}},{key:"onContext",value:function(t){this.$emit("onContext",t)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],L.prototype,"defaultDate",void 0),Object(O["a"])([Object(j["b"])()],L.prototype,"calendarShow",void 0),L=Object(O["a"])([j["a"]],L);var F=L,R=F,K=(a("33d0"),Object(r["a"])(R,P,A,!1,null,"58682c04",null)),W=K.exports,H=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.date=t.defaultDate,t.calendarShow=!1,t.PRESETS=[["收入","totalIncome"],["支出","totalExpenditure"],["结余","profit"]],t.a=t.monthlyBill.profit>=0,t}return Object(h["a"])(a,[{key:"formatCurrency",value:function(t){return B(t,"currency")}},{key:"calendarToggle",value:function(){this.calendarShow=!this.calendarShow}},{key:"calendarClose",value:function(){this.calendarShow=!1}},{key:"onContext",value:function(t){this.$emit("setDate",t.selectedDate||new Date),this.date=t.selectedDate||new Date}},{key:"month",get:function(){return Object(x["a"])(new Date(this.date))+1}},{key:"year",get:function(){return Object(S["a"])(new Date(this.date))}},{key:"monthlyDetails",get:function(){return $(this.details,this.month,this.year)}},{key:"monthlyBill",get:function(){return M(this.monthlyDetails)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],H.prototype,"details",void 0),Object(O["a"])([Object(j["b"])()],H.prototype,"defaultDate",void 0),Object(O["a"])([Object(j["b"])()],H.prototype,"disableMonthSelector",void 0),H=Object(O["a"])([Object(j["a"])({components:{Calendar:W}})],H);var z=H,G=z,J=(a("a4c8"),Object(r["a"])(G,_,w,!1,null,"b6253ad0",null)),U=J.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detailsWrapper"},[0===t.monthlyDetails.length?a("div",{staticClass:"noContent"},[t._v(" 本月还没有账单哦，快去记账吧 ")]):t._l(t.monthlyDetails,(function(e,n){return a("div",{key:n},[a("Item",{attrs:{detail:e,categories:t.categories},on:{"update:detail":function(t){e=t},"update:categories":function(e){t.categories=e}}})],1)}))],2)},Y=[],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detailWrapper"},[a("div",{staticClass:"top d-flex justify-content-between"},[a("div",[t._v(t._s(t.date))]),a("div",[t.detail.totalIncome>0?a("span",[t._v(" 收入："+t._s(t.formatAmount(t.detail.totalIncome))+" ")]):t._e(),t.detail.totalExpenditure>0?a("span",[t._v(" 支出："+t._s(t.formatAmount(t.detail.totalExpenditure))+" ")]):t._e()])]),a("div",{staticClass:"mt-1"},t._l(t.detail.items,(function(e,n){return a("div",{key:n,staticClass:"itemWrapper d-flex justify-content-between align-items-center"},[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"iconBox"},[a("i",{class:"iconfont icon-"+t.getCategory(e.categoryId).icon})]),t._v(" "+t._s(t.getCategory(e.categoryId).title)+" ")]),a("div",{staticClass:"amount",attrs:{"data-type":e.type}},[t._v(" "+t._s("income"===e.type?"":"-")+" "+t._s(t.formatAmount(e.amount))+" ")])])})),0)])},Q=[],V=a("a3b1"),Z=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.date=Object(D["a"])(new Date(t.detail.date),"MMM do EEEE",{locale:V["a"]}),t}return Object(h["a"])(a,[{key:"formatAmount",value:function(t){return B(t,"currency")}},{key:"getCategory",value:function(t){return this.categories.find((function(e){return e.id===t}))}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],Z.prototype,"categories",void 0),Object(O["a"])([Object(j["b"])()],Z.prototype,"detail",void 0),Z=Object(O["a"])([j["a"]],Z);var tt=Z,et=tt,at=(a("fb21"),Object(r["a"])(et,q,Q,!1,null,"c48577d0",null)),nt=at.exports,it=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return a}(n["default"]);Object(O["a"])([Object(j["b"])()],it.prototype,"categories",void 0),Object(O["a"])([Object(j["b"])()],it.prototype,"monthlyDetails",void 0),it=Object(O["a"])([Object(j["a"])({components:{Item:nt}})],it);var ot=it,rt=ot,ct=(a("c4b7"),Object(r["a"])(rt,X,Y,!1,null,"adbb9b9c",null)),st=ct.exports,lt=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.date=new Date,t}return Object(h["a"])(a,[{key:"setDate",value:function(t){this.date=t}},{key:"month",get:function(){return Object(x["a"])(new Date(this.date))+1}},{key:"year",get:function(){return Object(S["a"])(new Date(this.date))}},{key:"monthlyDetails",get:function(){var t=$(this.details,this.month,this.year);return I(t)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],lt.prototype,"categories",void 0),Object(O["a"])([Object(j["b"])()],lt.prototype,"details",void 0),lt=Object(O["a"])([Object(j["a"])({components:{MonthlyBill:U,Collection:st}})],lt);var ut=lt,dt=ut,ft=(a("02f6"),Object(r["a"])(dt,C,k,!1,null,"5322b802",null)),pt=ft.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"headerWrapper"},[t.removeBackArrow?t._e():a("div",{staticClass:"back",on:{click:t.onBack}},[a("i",{staticClass:"fas fa-chevron-left"})]),t._v(" "+t._s(t.title)+" "),t._t("default")],2)},vt=[],bt=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"onBack",value:function(){this.$router.go(-1)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],bt.prototype,"title",void 0),Object(O["a"])([Object(j["b"])()],bt.prototype,"removeBackArrow",void 0),bt=Object(O["a"])([j["a"]],bt);var ht=bt,gt=ht,mt=(a("0100"),Object(r["a"])(gt,yt,vt,!1,null,"28882cd0",null)),Ot=mt.exports,jt=function(){return"/dashboard"},Ct=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.dashboardPath=jt,t}return Object(h["a"])(a,[{key:"created",value:function(){this.$store.commit("categories/fetchCategories"),this.$store.commit("details/fetchDetails")}},{key:"categories",get:function(){return this.$store.state.categories.categories}},{key:"details",get:function(){return this.$store.state.details.details}}]),a}(n["default"]);Ct=Object(O["a"])([Object(j["a"])({components:{Details:pt,Header:Ot}})],Ct);var kt,_t=Ct,wt=_t,xt=(a("4b6e"),Object(r["a"])(wt,y,v,!1,null,"34280770",null)),St=xt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{title:"记账",removeBackArrow:!0}}),a("BookDown",{attrs:{categories:t.categories},on:{"update:categories":function(e){t.categories=e}}})],1)},Dt=[],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TypeTab",{attrs:{types:t.types,type:t.categoryType},on:{"update:types":function(e){t.types=e},"update:type":function(e){t.categoryType=e},onClickIncome:t.onClickIncome,onClickExpenditure:t.onClickExpenditure}}),a("Categories",{attrs:{categories:t.categoriesByType,selectedCategory:t.category},on:{"update:categories":function(e){t.categoriesByType=e},chooseCategory:t.chooseCategory}}),t.showKeyBoard?a("div",[a("KeyBoard",{on:{closeKeyboard:t.closeKeyboard,createDetail:t.createDetail}})],1):t._e()],1)},$t=[];(function(t){t["INCOME"]="income",t["EXPENDITURE"]="expenditure"})(kt||(kt={}));var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"typeTab"},t._l(t.types,(function(e,n){return a("div",{key:n,class:{box:!0,active:t.type===e[0]},on:{click:function(a){"income"===e[0]?t.onClickIncome():t.onClickExpenditure()}}},[t._v(" "+t._s(e[1])+" ")])})),0)},Mt=[],Nt=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"onClickIncome",value:function(){this.$emit("onClickIncome")}},{key:"onClickExpenditure",value:function(){this.$emit("onClickExpenditure")}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],Nt.prototype,"types",void 0),Object(O["a"])([Object(j["b"])()],Nt.prototype,"type",void 0),Nt=Object(O["a"])([j["a"]],Nt);var Bt=Nt,Pt=Bt,At=(a("b57f"),Object(r["a"])(Pt,It,Mt,!1,null,null,null)),Lt=At.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"categoriesWrapper"},[0===t.categories.length?a("div",{staticClass:"noContent"},[t._v(" 还没有类别，请"),a("router-link",{attrs:{to:t.categorySettingPath()}},[t._v("点击这里")]),t._v("添加 ")],1):t._e(),a("ul",t._l(t.categories,(function(e,n){return a("li",{key:n,on:{click:function(a){return t.chooseCategory(e)}}},[a("div",{class:{iconBox:!0,selected:e===t.selectedCategory}},[a("i",{class:"iconfont icon-"+e.icon})]),t._v(" "+t._s(e.title)+" ")])})),0)])},Rt=[],Kt=function(){return"/category_setting"},Wt=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.categorySettingPath=Kt,t}return Object(h["a"])(a,[{key:"chooseCategory",value:function(t){return this.$emit("chooseCategory",t)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],Wt.prototype,"categories",void 0),Object(O["a"])([Object(j["b"])()],Wt.prototype,"selectedCategory",void 0),Wt=Object(O["a"])([j["a"]],Wt);var Ht=Wt,zt=Ht,Gt=(a("e491"),Object(r["a"])(zt,Ft,Rt,!1,null,"e907bb64",null)),Jt=Gt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"keyBoard"},[a("div",{staticClass:"output"},[t._v(" "+t._s(t.output)+" ")]),a("div",{staticClass:"buttons"},[a("button",{on:{click:t.inputContent}},[t._v("1")]),a("button",{on:{click:t.inputContent}},[t._v("2")]),a("button",{on:{click:t.inputContent}},[t._v("3")]),a("button",{on:{click:t.remove}},[t._v("删除")]),a("button",{on:{click:t.inputContent}},[t._v("4")]),a("button",{on:{click:t.inputContent}},[t._v("5")]),a("button",{on:{click:t.inputContent}},[t._v("6")]),a("button",{on:{click:t.clear}},[t._v("清空")]),a("button",{on:{click:t.inputContent}},[t._v("7")]),a("button",{on:{click:t.inputContent}},[t._v("8")]),a("button",{on:{click:t.inputContent}},[t._v("9")]),a("button",{on:{click:t.calendarToggle}},[a("i",{class:"iconfont icon-rili"}),t._v(" "+t._s(t.formattedDate)+" ")]),a("button",{staticClass:"zero",on:{click:t.inputContent}},[t._v("0")]),a("button",{on:{click:t.inputContent}},[t._v(".")]),a("button",{on:{click:t.ok}},[t._v("OK")])]),a("Calendar",{attrs:{calendarShow:t.calendarShow,defaultDate:t.date},on:{"update:calendarShow":function(e){t.calendarShow=e},"update:calendar-show":function(e){t.calendarShow=e},onContext:t.onContext,calendarClose:t.calendarClose}})],1)},Xt=[],Yt=(a("c975"),a("fb6a"),function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.output="0",t.date=new Date,t.calendarShow=!1,t}return Object(h["a"])(a,[{key:"inputContent",value:function(t){var e=t.target,a=e.textContent;if(16!==this.output.length)return"0"===this.output?"0123456789".indexOf(a)>=0?this.output=a:this.output+=a:void(this.output.indexOf(".")>=0&&"."===a||(this.output+=a))}},{key:"remove",value:function(){1===this.output.length?this.output="0":this.output=this.output.slice(0,-1)}},{key:"clear",value:function(){this.output="0"}},{key:"ok",value:function(){var t=parseFloat(this.output);this.output="0",t>0?(this.$emit("createDetail",t,this.date),this.$emit("closeKeyboard")):alert("请输入金额")}},{key:"calendarToggle",value:function(){this.calendarShow=!this.calendarShow}},{key:"calendarClose",value:function(){this.calendarShow=!1}},{key:"onContext",value:function(t){this.date=t.selectedDate||new Date}},{key:"formattedDate",get:function(){return Object(D["a"])(new Date(this.date),"MMM do")}}]),a}(n["default"]));Yt=Object(O["a"])([Object(j["a"])({components:{Calendar:W}})],Yt);var qt=Yt,Qt=qt,Vt=(a("5dd5"),Object(r["a"])(Qt,Ut,Xt,!1,null,"2805e20e",null)),Zt=Vt.exports,te=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.categoryType=kt.INCOME,t.showKeyBoard=!1,t.category=null,t.types=[[kt.INCOME,"收入"],[kt.EXPENDITURE,"支出"]],t}return Object(h["a"])(a,[{key:"onClickIncome",value:function(){this.categoryType=kt.INCOME}},{key:"onClickExpenditure",value:function(){this.categoryType=kt.EXPENDITURE}},{key:"chooseCategory",value:function(t){this.category=t,this.showKeyBoard=!0}},{key:"closeKeyboard",value:function(){this.showKeyBoard=!1,this.category=null}},{key:"createDetail",value:function(t,e){if(null!==this.category){var a={createdAt:e,amount:t,categoryId:this.category.id,type:this.categoryType};this.$store.dispatch("details/createDetail",a)}else alert("请选择类别")}},{key:"categoriesByType",get:function(){var t=this;return this.$store.state.categories.categories.filter((function(e){return e.type===t.categoryType}))}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],te.prototype,"categories",void 0),te=Object(O["a"])([Object(j["a"])({components:{TypeTab:Lt,Categories:Jt,KeyBoard:Zt}})],te);var ee=te,ae=ee,ne=Object(r["a"])(ae,Et,$t,!1,null,null,null),ie=ne.exports,oe=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"created",value:function(){this.$store.commit("categories/fetchCategories")}},{key:"categories",get:function(){return this.$store.state.categories.categories}},{key:"details",get:function(){return this.$store.state.details.details}}]),a}(n["default"]);oe=Object(O["a"])([Object(j["a"])({components:{BookDown:ie,Header:Ot}})],oe);var re=oe,ce=re,se=Object(r["a"])(ce,Tt,Dt,!1,null,null,null),le=se.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Me",{attrs:{profile:t.profile,details:t.details},on:{"update:profile":function(e){t.profile=e},"update:details":function(e){t.details=e}}})},de=[],fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{profile:t.profile},on:{"update:profile":function(e){t.profile=e}}}),a("router-link",{attrs:{to:t.detailsIndexPath()}},[a("MonthlyBill",{attrs:{details:t.details,disableMonthSelector:!0,defaultDate:t.date},on:{"update:details":function(e){t.details=e},"update:defaultDate":function(e){t.date=e},"update:default-date":function(e){t.date=e}}})],1),a("router-link",{attrs:{to:t.categorySettingPath()}},[a("SettingItem",{attrs:{icon:"leibie",title:"类别设置"}})],1)],1)},pe=[],ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"meHeader"},[a("div",{staticClass:"wrapper"},[a("router-link",{attrs:{to:t.profilePath()}},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:"avatar"}})]),t.profile.displayName?a("div",[a("div",{staticClass:"name"},[t._v(t._s(t.profile.displayName))])]):t._e(),t.profile.description?a("div",[a("div",{staticClass:"description"},[t._v(t._s(t.profile.description))])]):t._e(),t.profile.avatar&&t.profile.displayName?t._e():a("div",[a("div",{staticClass:"description"},[t._v("请完善您的个人信息")])])])],1)])},ve=[],be=function(){return"/profile"},he=function(t){Object(g["a"])(n,t);var e=Object(m["a"])(n);function n(){var t;return Object(b["a"])(this,n),t=e.apply(this,arguments),t.avatar=t.profile.avatar?t.profile.avatar:a("4294"),t.profilePath=be,t}return n}(n["default"]);Object(O["a"])([Object(j["b"])()],he.prototype,"profile",void 0),he=Object(O["a"])([j["a"]],he);var ge=he,me=ge,Oe=(a("5a98"),Object(r["a"])(me,ye,ve,!1,null,"53315792",null)),je=Oe.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settingItem"},[a("div",{staticClass:"title"},[a("div",{staticClass:"icon"},[a("i",{class:"iconfont icon-"+t.icon})]),a("div",[t._v(" "+t._s(t.title)+" ")])]),t._m(0)])},ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-chevron-right"})])}],_e=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return a}(n["default"]);Object(O["a"])([Object(j["b"])()],_e.prototype,"icon",void 0),Object(O["a"])([Object(j["b"])()],_e.prototype,"title",void 0),_e=Object(O["a"])([j["a"]],_e);var we=_e,xe=we,Se=(a("6717"),Object(r["a"])(xe,Ce,ke,!1,null,"45bba8da",null)),Te=Se.exports,De=function(){return"/details"},Ee=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.date=new Date,t.categorySettingPath=Kt,t.detailsIndexPath=De,t}return a}(n["default"]);Object(O["a"])([Object(j["b"])()],Ee.prototype,"profile",void 0),Object(O["a"])([Object(j["b"])()],Ee.prototype,"details",void 0),Ee=Object(O["a"])([Object(j["a"])({components:{Header:je,MonthlyBill:U,SettingItem:Te}})],Ee);var $e=Ee,Ie=$e,Me=Object(r["a"])(Ie,fe,pe,!1,null,null,null),Ne=Me.exports,Be=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"created",value:function(){this.$store.commit("profile/fetchProfile"),this.$store.commit("details/fetchDetails")}},{key:"profile",get:function(){return this.$store.state.profile.profile}},{key:"details",get:function(){return this.$store.state.details.details}}]),a}(n["default"]);Be=Object(O["a"])([Object(j["a"])({components:{Me:Ne}})],Be);var Pe=Be,Ae=Pe,Le=Object(r["a"])(Ae,ue,de,!1,null,null,null),Fe=Le.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{title:"个人信息"}}),a("ProfileForm",{attrs:{profile:t.profile},on:{"update:profile":function(e){t.profile=e},changeImage:t.changeImage,changeName:t.changeName,changeGender:t.changeGender,changeDescription:t.changeDescription,saveProfile:t.saveProfile}})],1)},Ke=[],We=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profileForm"},[a("div",{staticClass:"formWrapper"},[a("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",name:"avatar"},on:{change:function(e){return t.changeImage(e)}}}),a("div",{staticClass:"avatarWrapper",on:{click:t.upLoad}},[a("div",[t._v("头像")]),a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"avatar mr-2"},[a("img",{attrs:{src:t.profile.avatar||t.defaultAvatar,alt:"avatar"}})]),a("i",{staticClass:"fas fa-chevron-right"})])]),a("div",{staticClass:"displayName"},[a("div",[t._v("昵称")]),a("div",{staticClass:"d-flex align-items-center w-75 justify-content-end"},[a("b-form-input",{attrs:{placeholder:"请输入昵称"},on:{change:function(e){return t.changeName()}},model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}}),a("i",{staticClass:"fas fa-chevron-right"})],1)]),a("div",{staticClass:"description"},[a("div",[t._v("描述")]),a("div",{staticClass:"d-flex align-items-center w-75 justify-content-end"},[a("b-form-input",{attrs:{type:"text",placeholder:"请用一句话描述你自己"},on:{change:function(e){return t.changeDescription()}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),a("i",{staticClass:"fas fa-chevron-right"})],1)]),a("div",{staticClass:"gender"},[a("div",[t._v("性别")]),a("div",{staticClass:"d-flex align-items-center w-75 justify-content-end"},[a("b-form-group",[a("b-form-radio-group",{attrs:{options:["男","女"]},on:{change:function(e){return t.changeGender(e)}},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}})],1),a("i",{staticClass:"fas fa-chevron-right"})],1)])]),a("div",{staticClass:"save",on:{click:function(e){return t.onSave()}}},[t._v(" 保存 ")])])}),He=[],ze=function(t){Object(g["a"])(n,t);var e=Object(m["a"])(n);function n(){var t;return Object(b["a"])(this,n),t=e.apply(this,arguments),t.displayName=t.profile.displayName||null,t.description=t.profile.description||null,t.gender=t.profile.gender,t.defaultAvatar=a("4294"),t}return Object(h["a"])(n,[{key:"changeImage",value:function(t){this.$emit("changeImage",t)}},{key:"changeName",value:function(){this.$emit("changeName",this.displayName)}},{key:"changeGender",value:function(t){this.$emit("changeGender",t)}},{key:"changeDescription",value:function(){this.$emit("changeDescription",this.description)}},{key:"upLoad",value:function(){this.$refs.avatarInput.dispatchEvent(new MouseEvent("click"))}},{key:"onSave",value:function(){this.$emit("saveProfile")}}]),n}(n["default"]);Object(O["a"])([Object(j["b"])()],ze.prototype,"profile",void 0),ze=Object(O["a"])([j["a"]],ze);var Ge=ze,Je=Ge,Ue=(a("37bb"),Object(r["a"])(Je,We,He,!1,null,"289f55c0",null)),Xe=Ue.exports,Ye=["image/gif","image/jpeg","image/png"],qe=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"created",value:function(){this.$store.commit("profile/fetchProfile")}},{key:"changeImage",value:function(t){var e=this,a=t.target;if(a){var n=a.files[0];if(n&&Ye.includes(n.type)){var i=new FileReader;i.onload=function(){e.profile.avatar=i.result},i.readAsDataURL(n)}}}},{key:"changeName",value:function(t){t.length<0||(this.profile.displayName=t)}},{key:"changeGender",value:function(t){this.profile.gender=t}},{key:"changeDescription",value:function(t){this.profile.description=t}},{key:"saveProfile",value:function(){this.$store.commit("profile/saveProfile",this.profile),alert("保存成功")}},{key:"profile",get:function(){return this.$store.state.profile.profile}}]),a}(n["default"]);qe=Object(O["a"])([Object(j["a"])({components:{ProfileForm:Xe,Header:Ot}})],qe);var Qe=qe,Ve=Qe,Ze=Object(r["a"])(Ve,Re,Ke,!1,null,null,null),ta=Ze.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{title:"类别设置"}}),a("CategoryList")],1)},aa=[],na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"categoryListWrapper"},[a("CategoryTypeTab",{attrs:{types:t.types,type:t.categoryType},on:{"update:types":function(e){t.types=e},"update:type":function(e){t.categoryType=e},onClickIncome:t.onClickIncome,onClickExpenditure:t.onClickExpenditure}}),0===t.categoriesByType.length?a("div",{staticClass:"noContent"},[t._v(" 还没有类别，请添加 ")]):t._l(t.categoriesByType,(function(e,n){return a("div",{key:n},[a("CategoryItem",{attrs:{category:e,categoryType:t.categoryType},on:{"update:category":function(t){e=t},"update:categoryType":function(e){t.categoryType=e},"update:category-type":function(e){t.categoryType=e}}})],1)})),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal-createCategory",expression:"'modal-createCategory'"}],staticClass:"addCategory"},[t._v(" 添加类别 ")]),a("NewModal",{attrs:{categoryType:t.categoryType},on:{"update:categoryType":function(e){t.categoryType=e},"update:category-type":function(e){t.categoryType=e}}})],2)},ia=[],oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"创建新类别",id:"modal-createCategory"},on:{handleOk:t.handleOk}},[a("CategoryForm",{on:{onIconChange:t.onIconChange,onTitleChange:t.onTitleChange}})],1)},ra=[],ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"categoryForm"},[a("b-row",[a("b-col",{attrs:{cols:"3"}},[a("IconSelector",{attrs:{icon:t.newIcon},on:{onSubmit:t.onIconChange,"update:icon":function(e){t.newIcon=e}}})],1),a("b-col",{attrs:{cols:"9"}},[a("div",{staticClass:"inputWrapper"},[a("b-form-input",{attrs:{placeholder:"请输入类别名称",value:t.newTitle},on:{change:function(e){return t.onTitleChange()}},model:{value:t.newTitle,callback:function(e){t.newTitle=e},expression:"newTitle"}})],1)])],1)],1)},sa=[],la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"iconSelector"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal-iconSelector",expression:"'modal-iconSelector'"}],staticClass:"icon"},[a("i",{class:"iconfont icon-"+t.iconKey})]),a("Modal",{attrs:{title:"选择Icon",id:"modal-iconSelector"},on:{handleOk:t.handleOk}},[a("div",{staticClass:"iconsModal"},[a("b-row",t._l(t.icons,(function(e,n){return a("div",{key:n},[a("b-col",[a("div",{staticClass:"iconCircle",attrs:{"data-selected":e===t.iconKey},on:{click:function(a){return t.chooseIcon(e)}}},[a("i",{class:"iconfont icon-"+e})])])],1)})),0)],1)])],1)},ua=[],da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:t.id,title:t.title,centered:"","modal-class":"modalContainer"},on:{ok:t.handleOk}},[t._t("default")],2)},fa=[],pa=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"handleOk",value:function(t){this.$emit("handleOk",t)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],pa.prototype,"title",void 0),Object(O["a"])([Object(j["b"])()],pa.prototype,"id",void 0),pa=Object(O["a"])([j["a"]],pa);var ya=pa,va=ya,ba=(a("e474"),Object(r["a"])(va,da,fa,!1,null,null,null)),ha=ba.exports,ga=a("d6a9"),ma=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.iconKey=t.icon||"gongzizhuanhuan",t.icons=ga.icons,t}return Object(h["a"])(a,[{key:"chooseIcon",value:function(t){this.iconKey=t}},{key:"handleOk",value:function(t){return t.preventDefault(),this.onSubmit()}},{key:"onSubmit",value:function(){var t=this;this.$emit("onSubmit",this.iconKey),this.$nextTick((function(){t.$bvModal.hide("modal-iconSelector")}))}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],ma.prototype,"icon",void 0),Object(O["a"])([Object(j["b"])()],ma.prototype,"title",void 0),ma=Object(O["a"])([Object(j["a"])({components:{Modal:ha}})],ma);var Oa=ma,ja=Oa,Ca=(a("dd24"),Object(r["a"])(ja,la,ua,!1,null,null,null)),ka=Ca.exports,_a=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.newIcon=t.icon||null,t.newTitle=t.title||null,t}return Object(h["a"])(a,[{key:"onTitleChange",value:function(){return this.$emit("onTitleChange",this.newTitle)}},{key:"onIconChange",value:function(t){return this.newIcon=t,this.$emit("onIconChange",this.newIcon)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],_a.prototype,"icon",void 0),Object(O["a"])([Object(j["b"])()],_a.prototype,"title",void 0),_a=Object(O["a"])([Object(j["a"])({components:{IconSelector:ka}})],_a);var wa=_a,xa=wa,Sa=(a("09a1"),Object(r["a"])(xa,ca,sa,!1,null,null,null)),Ta=Sa.exports,Da=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.icon=void 0,t.title=void 0,t}return Object(h["a"])(a,[{key:"onIconChange",value:function(t){this.icon=t}},{key:"onTitleChange",value:function(t){t.length<0||(this.title=t)}},{key:"handleOk",value:function(t){return t.preventDefault(),this.createCategory()}},{key:"createCategory",value:function(){var t=this;if(!this.icon||!this.title)return window.alert("请选择icon并填写名称");var e={icon:this.icon,title:this.title,type:this.categoryType};this.$store.dispatch("categories/createCategory",e),this.$nextTick((function(){t.$bvModal.hide("modal-createCategory")}))}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],Da.prototype,"categoryType",void 0),Da=Object(O["a"])([Object(j["a"])({components:{CategoryForm:Ta,Modal:ha}})],Da);var Ea=Da,$a=Ea,Ia=(a("9ae7"),Object(r["a"])($a,oa,ra,!1,null,"cef2fd02",null)),Ma=Ia.exports,Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"categoryWrapper"},[a("div",{staticClass:"leftSide"},[a("div",{staticClass:"iconBox"},[a("i",{class:"iconfont icon-"+t.category.icon})]),a("div",[t._v(t._s(t.category.title))])]),a("div",{staticClass:"rightSide"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal-updateCategory-"+t.category.id,expression:"`modal-updateCategory-${category.id}`"}],staticClass:"mr-2"},[a("i",{staticClass:"fas fa-pencil-alt"})]),a("div",{staticClass:"deleteIcon",on:{click:function(e){return t.onDelete()}}},[a("i",{staticClass:"fas fa-trash-alt"})])],1),a("EditModal",{attrs:{categoryType:t.categoryType,category:t.category},on:{"update:categoryType":function(e){t.categoryType=e},"update:category-type":function(e){t.categoryType=e},"update:category":function(e){t.category=e}}})],1)},Ba=[],Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"更新类别",id:"modal-updateCategory-"+t.category.id},on:{handleOk:t.handleOk}},[a("CategoryForm",{attrs:{icon:t.category.icon,title:t.category.title},on:{onIconChange:t.onIconChange,onTitleChange:t.onTitleChange,"update:icon":function(e){return t.$set(t.category,"icon",e)},"update:title":function(e){return t.$set(t.category,"title",e)}}})],1)},Aa=[],La=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.icon=void 0,t.title=void 0,t}return Object(h["a"])(a,[{key:"onIconChange",value:function(t){this.icon=t}},{key:"onTitleChange",value:function(t){t.length<0||(this.title=t)}},{key:"handleOk",value:function(t){return t.preventDefault(),this.updateCategory()}},{key:"updateCategory",value:function(){var t=this,e={id:this.category.id,icon:this.icon||this.category.icon,title:this.title||this.category.title,type:this.categoryType};this.$store.dispatch("categories/updateCategory",e),this.$nextTick((function(){t.$bvModal.hide("modal-updateCategory-".concat(e.id))}))}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],La.prototype,"categoryType",void 0),Object(O["a"])([Object(j["b"])()],La.prototype,"category",void 0),La=Object(O["a"])([Object(j["a"])({components:{CategoryForm:Ta,Modal:ha}})],La);var Fa=La,Ra=Fa,Ka=(a("bfaf"),Object(r["a"])(Ra,Pa,Aa,!1,null,"9cb3ecd4",null)),Wa=Ka.exports,Ha=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"onDelete",value:function(){confirm("确认删除吗？")&&this.$store.dispatch("categories/deleteCategory",this.category.id)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],Ha.prototype,"category",void 0),Object(O["a"])([Object(j["b"])()],Ha.prototype,"categoryType",void 0),Ha=Object(O["a"])([Object(j["a"])({components:{EditModal:Wa}})],Ha);var za=Ha,Ga=za,Ja=(a("d6a6"),Object(r["a"])(Ga,Na,Ba,!1,null,null,null)),Ua=Ja.exports,Xa=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.categoryType=kt.INCOME,t.types=[[kt.INCOME,"收入"],[kt.EXPENDITURE,"支出"]],t}return Object(h["a"])(a,[{key:"onClickIncome",value:function(){this.categoryType=kt.INCOME}},{key:"onClickExpenditure",value:function(){this.categoryType=kt.EXPENDITURE}},{key:"categoriesByType",get:function(){var t=this;return this.$store.state.categories.categories.filter((function(e){return e.type===t.categoryType}))}}]),a}(n["default"]);Xa=Object(O["a"])([Object(j["a"])({components:{NewModal:Ma,CategoryItem:Ua,CategoryTypeTab:Lt}})],Xa);var Ya=Xa,qa=Ya,Qa=(a("2d46"),Object(r["a"])(qa,na,ia,!1,null,null,null)),Va=Qa.exports,Za=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"created",value:function(){this.$store.commit("categories/fetchCategories")}}]),a}(n["default"]);Za=Object(O["a"])([Object(j["a"])({components:{Header:Ot,CategoryList:Va}})],Za);var tn=Za,en=tn,an=Object(r["a"])(en,ea,aa,!1,null,null,null),nn=an.exports,on=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{title:"数据统计",removeBackArrow:!1}}),a("Dashboard",{attrs:{categories:t.categories,details:t.details},on:{"update:categories":function(e){t.categories=e},"update:details":function(e){t.details=e}}})],1)},rn=[],cn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TypeTab",{attrs:{types:t.types,type:t.categoryType},on:{"update:types":function(e){t.types=e},"update:type":function(e){t.categoryType=e},onClickIncome:t.onClickIncome,onClickExpenditure:t.onClickExpenditure}}),a("DateRangeSelector",{attrs:{start:t.start,end:t.end},on:{"update:start":function(e){t.start=e},"update:end":function(e){t.end=e},setStart:t.setStart,setEnd:t.setEnd}}),a("LineChart",{attrs:{lineChartSeries:t.lineChartSeries},on:{"update:lineChartSeries":function(e){t.lineChartSeries=e},"update:line-chart-series":function(e){t.lineChartSeries=e}}}),a("RankingList",{attrs:{barChartSeries:t.barChartSeries,categoryType:t.categoryType},on:{"update:barChartSeries":function(e){t.barChartSeries=e},"update:bar-chart-series":function(e){t.barChartSeries=e},"update:categoryType":function(e){t.categoryType=e},"update:category-type":function(e){t.categoryType=e}}})],1)},sn=[],ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dateRangeWrapper"},[a("div",{staticClass:"dateSelector"},[a("label",[t._v("from")]),a("b-form-datepicker",{attrs:{max:t.dateTo,placeholder:"Choose a date","date-format-options":{year:"numeric",month:"numeric",day:"numeric"}},on:{context:t.onChooseFrom},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}})],1),a("div",{staticClass:"dateSelector"},[a("label",[t._v("to")]),a("b-form-datepicker",{attrs:{placeholder:"Choose a date","date-format-options":{year:"numeric",month:"numeric",day:"numeric"}},on:{context:t.onChooseTo},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}})],1)])},un=[],dn=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.dateFrom=t.start,t.dateTo=t.end,t}return Object(h["a"])(a,[{key:"onChooseFrom",value:function(t){this.$emit("setStart",new Date(t.selectedYMD))}},{key:"onChooseTo",value:function(t){this.$emit("setEnd",new Date(t.selectedYMD))}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],dn.prototype,"start",void 0),Object(O["a"])([Object(j["b"])()],dn.prototype,"end",void 0),dn=Object(O["a"])([j["a"]],dn);var fn=dn,pn=fn,yn=(a("759f"),Object(r["a"])(pn,ln,un,!1,null,null,null)),vn=yn.exports,bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chart",staticClass:"lineChartWrapper"})},hn=[],gn=a("313e"),mn=a.n(gn),On="M-dd",jn="#8a6af5",Cn=["#B4DDF5","#8a6af5"],kn=function(t){return t>=500?"".concat(t/1e3," k"):t},_n=function(t){return{series:{type:"line",data:t,areaStyle:{normal:{color:new mn.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:Cn[0]},{offset:1,color:Cn[1]}])}},smooth:!0,color:jn,lineStyle:{width:.8}},tooltip:{trigger:"axis",backgroundColor:"rgba(41, 44, 52, 0.9)",extraCssText:"border-radius: 0",fontSize:12},legend:{x:"right",y:"top",itemGap:10},xAxis:{type:"time",boundaryGap:!1,axisLine:{lineStyle:{type:"solid",color:"#e5e5e5"}},axisLabel:{interval:"auto",formatter:function(t){return Object(D["a"])(new Date(t),On)},textStyle:{color:"#292c34",fontSize:"12"},rotate:60},splitLine:{show:!1}},yAxis:{type:"value",axisLine:{lineStyle:{type:"solid",color:"#e5e5e5"}},axisLabel:{textStyle:{color:"#292c34"},show:!0,interval:"auto",formatter:function(t){return kn(t)}},splitLine:{show:!0,lineStyle:{color:"#e5e5e5",width:1,type:"dashed"}},show:!0},grid:{left:"1%",right:"2%",top:"10%",bottom:"2%",containLabel:!0}}},wn=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"created",value:function(){var t=this;this.$nextTick((function(){t.renderLineChart()}))}},{key:"renderLineChart",value:function(){var t=mn.a,e=t.init(this.$refs.chart);e.setOption(_n(this.series),!0)}},{key:"onSeriesChanged",value:function(){var t=this;this.$nextTick((function(){t.renderLineChart()}))}},{key:"series",get:function(){return this.lineChartSeries}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],wn.prototype,"lineChartSeries",void 0),Object(O["a"])([Object(j["c"])("series",{deep:!0})],wn.prototype,"onSeriesChanged",null),wn=Object(O["a"])([j["a"]],wn);var xn=wn,Sn=xn,Tn=(a("d278"),Object(r["a"])(Sn,bn,hn,!1,null,"474d0a8e",null)),Dn=Tn.exports,En=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"RankingListWrapper"},[a("div",{staticClass:"header"},[a("div",[t._v(t._s("income"===t.categoryType?"收入":"支出")+"排行榜")]),a("div",{staticClass:"total"},[t._v("总"+t._s("income"===t.categoryType?"收入":"支出")+": "+t._s(t.formatCurrency(t.totalAmount)))])]),a("div",{staticClass:"mt-3 w-100"},t._l(t.series,(function(e,n){return a("div",{key:n,staticClass:"mb-3 w-100"},[a("div",{staticClass:"d-flex align-items-center justify-content-between"},[a("div",{staticClass:"iconBox"},[a("i",{class:"iconfont icon-"+e.category.icon})]),a("div",{staticClass:"barWrapper"},[a("div",{staticClass:"label"},[t._v(" "+t._s(e.category.title)+" "+t._s(t.formatPercent(e.totalAmount/t.totalAmount))+" ")]),a("div",{staticClass:"bottomBar"},[a("div",{staticClass:"topBar",style:{width:t.formatPercent(e.totalAmount/t.totalAmount)}})])])])])})),0)])},$n=[],In=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"formatCurrency",value:function(t){return B(t,"currency")}},{key:"formatPercent",value:function(t){return B(t,"percent")}},{key:"totalAmount",get:function(){return Object(E["sumBy"])(this.barChartSeries,"totalAmount")}},{key:"series",get:function(){return this.barChartSeries}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],In.prototype,"barChartSeries",void 0),Object(O["a"])([Object(j["b"])()],In.prototype,"categoryType",void 0),In=Object(O["a"])([j["a"]],In);var Mn=In,Nn=Mn,Bn=(a("1d09"),Object(r["a"])(Nn,En,$n,!1,null,"7e53ea72",null)),Pn=Bn.exports,An=(a("a630"),a("13d5"),a("d3b7"),a("3ca3"),a("ddb0"),a("e3ee")),Ln=a("3683"),Fn=a("f7f1");n["default"].filter("date-format",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return Object(D["a"])("string"===typeof t?Object(An["a"])(t):t,e)}));var Rn=function(t,e){var a=Math.abs(Object(Ln["a"])(t,e))+1,n=Array.from(Array(a).keys());return n.reduce((function(e,a){return e.push(Object(Fn["a"])(t,a)),e}),[])},Kn=a("f628"),Wn="yyyy-MM-dd",Hn=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.start=Object(Kn["a"])(new Date),t.end=new Date,t.categoryType=kt.INCOME,t.types=[[kt.INCOME,"收入"],[kt.EXPENDITURE,"支出"]],t}return Object(h["a"])(a,[{key:"onClickIncome",value:function(){this.categoryType=kt.INCOME}},{key:"onClickExpenditure",value:function(){this.categoryType=kt.EXPENDITURE}},{key:"setStart",value:function(t){this.start=t}},{key:"setEnd",value:function(t){this.end=t}},{key:"detailsByType",get:function(){var t=this;return this.details.filter((function(e){return e.type===t.categoryType}))}},{key:"lineChartSeries",get:function(){var t=this,e=Rn(this.start,this.end);return e.map((function(e){var a;return[Object(D["a"])(new Date(e),Wn),(null===(a=t.detailsByType.find((function(t){return Object(D["a"])(new Date(t.createdAt),Wn)===Object(D["a"])(new Date(e),Wn)})))||void 0===a?void 0:a.amount)||0]}))}},{key:"barChartSeries",get:function(){return N(this.detailsByType,this.categories)}}]),a}(n["default"]);Object(O["a"])([Object(j["b"])()],Hn.prototype,"categories",void 0),Object(O["a"])([Object(j["b"])()],Hn.prototype,"details",void 0),Hn=Object(O["a"])([Object(j["a"])({components:{TypeTab:Lt,DateRangeSelector:vn,LineChart:Dn,RankingList:Pn}})],Hn);var zn=Hn,Gn=zn,Jn=Object(r["a"])(Gn,cn,sn,!1,null,null,null),Un=Jn.exports,Xn=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){return Object(b["a"])(this,a),e.apply(this,arguments)}return Object(h["a"])(a,[{key:"created",value:function(){this.$store.commit("categories/fetchCategories"),this.$store.commit("details/fetchDetails")}},{key:"categories",get:function(){return this.$store.state.categories.categories}},{key:"details",get:function(){return this.$store.state.details.details}}]),a}(n["default"]);Xn=Object(O["a"])([Object(j["a"])({components:{Header:Ot,Dashboard:Un}})],Xn);var Yn=Xn,qn=Yn,Qn=(a("63d7"),Object(r["a"])(qn,on,rn,!1,null,"834259bc",null)),Vn=Qn.exports;n["default"].use(p["a"]);var Zn=[{path:"/",redirect:"/details"},{path:"/details",name:"details",component:St},{path:"/book_down",name:"book_down",component:le},{path:"/me",name:"me",component:Fe},{path:"/profile",name:"profile",component:ta},{path:"/category_setting",name:"category_setting",component:nn},{path:"/dashboard",name:"dashboard",component:Vn}],ti=new p["a"]({routes:Zn}),ei=ti,ai=a("2f62"),ni=function(){return{profile:void 0}},ii={fetchProfile:function(t){var e=window.localStorage.getItem("profile"),a={displayName:void 0,avatar:void 0,gender:"男",description:void 0};t.profile="string"===typeof e?JSON.parse(e):a},saveProfile:function(t,e){t.profile=e,window.localStorage.setItem("profile",JSON.stringify(t.profile))}},oi={namespaced:!0,state:ni,mutations:ii},ri=(a("99af"),a("c740"),a("a434"),a("25f0"),a("2532"),a("2909"));function ci(t){var e=parseInt(window.localStorage.getItem(t)||"0")||0;return e++,window.localStorage.setItem(t,e.toString()),e}var si=ci,li=function(){return{categories:[]}},ui={createCategory:function(t,e){var a=t.state,n=t.commit,i=a.categories.map((function(t){return t.title})),o=a.categories.map((function(t){return t.icon}));if(o.includes(e.icon))return window.alert("icon重复了");if(i.includes(e.title))return window.alert("标签名重复了");var r=si("categoryIdMax").toString(),c=Object(T["a"])({id:r},e);a.categories=[c].concat(Object(ri["a"])(a.categories)),n("saveCategories"),window.alert("添加成功")},updateCategory:function(t,e){var a=t.state,n=t.commit,i=a.categories.findIndex((function(t){return t.id===e.id})),o=Object(ri["a"])(a.categories),r=o.filter((function(t){return t.id!==e.id})),c=r.map((function(t){return t.title})),s=r.map((function(t){return t.icon}));return s.includes(e.icon)?window.alert("icon重复了"):c.includes(e.title)?window.alert("标签名重复了"):(o.splice(i,1,e),a.categories=o,n("saveCategories"),void window.alert("更新成功"))},deleteCategory:function(t,e){var a=t.state,n=t.commit;a.categories=a.categories.filter((function(t){return t.id!==e})),n("saveCategories"),window.alert("删除成功")}},di={fetchCategories:function(t){t.categories=JSON.parse(window.localStorage.getItem("categories")||"[]")},saveCategories:function(t){window.localStorage.setItem("categories",JSON.stringify(t.categories))}},fi={namespaced:!0,state:li,actions:ui,mutations:di},pi=function(){return{details:[]}},yi={createDetail:function(t,e){var a=t.state,n=t.commit,i=si("detailIdMax").toString(),o=Object(T["a"])({id:i},e);a.details=[o].concat(Object(ri["a"])(a.details)),n("saveDetails"),window.alert("添加成功")}},vi={fetchDetails:function(t){t.details=JSON.parse(window.localStorage.getItem("details")||"[]")},saveDetails:function(t){window.localStorage.setItem("details",JSON.stringify(t.details))}},bi={namespaced:!0,state:pi,actions:yi,mutations:vi};n["default"].use(ai["a"]);var hi=new ai["a"].Store({modules:{profile:oi,categories:fi,details:bi}}),gi=hi,mi=a("cb5b"),Oi=a("ad3d"),ji=a("da3e"),Ci=a("faaa"),ki=a("42b9");mi["a"].library.add(ji["a"]),mi["a"].library.add(Ci["a"]),mi["a"].library.add(ki["a"]),n["default"].component("font-awesome-icon",Oi["a"]);a("6ec8"),a("33ec");var _i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menuContainer"},[a("div",{staticClass:"menu"},[t._l(t.menu,(function(e,n){return a("div",{key:n,staticClass:"wrapper",attrs:{"data-icon":e.icon}},[a("router-link",{attrs:{to:e.path(),"active-class":"active"}},[a("i",{class:"iconfont icon-"+e.icon}),t._v(" "+t._s(e.title)+" ")])],1)})),a("div",{staticClass:"circle"}),a("div",{staticClass:"box"})],2)])},wi=[],xi=function(){return"/book_down"},Si=function(){return"/me"},Ti=function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.menu=[{title:"明细",icon:"mingxi",path:De},{title:"记账",icon:"plus",path:xi},{title:"我的",icon:"user",path:Si}],t}return a}(n["default"]),Di=Ti,Ei=(a("4e5c"),Object(r["a"])(Di,_i,wi,!1,null,"e013a248",null)),$i=Ei.exports,Ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._t("default"),t.disPlayKeys.includes(t.path)?a("div",[a("AwesomeMenu")],1):t._e()],2)},Mi=[],Ni=(a("b0c0"),function(t){Object(g["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.disPlayKeys=["me","details","book_down"],t.path=void 0,t}return Object(h["a"])(a,[{key:"onRouteChanged",value:function(t){this.path=t.name}}]),a}(n["default"]));Object(O["a"])([Object(j["c"])("$route",{immediate:!0})],Ni.prototype,"onRouteChanged",null),Ni=Object(O["a"])([j["a"]],Ni);var Bi=Ni,Pi=Bi,Ai=Object(r["a"])(Pi,Ii,Mi,!1,null,null,null),Li=Ai.exports;a("81ef");n["default"].config.productionTip=!1,n["default"].component("AwesomeMenu",$i),n["default"].component("Layout",Li),n["default"].use(d["a"]),n["default"].use(f["a"]),new n["default"]({router:ei,store:gi,render:function(t){return t(l)}}).$mount("#app")},d278:function(t,e,a){"use strict";var n=a("94cf"),i=a.n(n);i.a},d6a6:function(t,e,a){"use strict";var n=a("95a5"),i=a.n(n);i.a},d6a9:function(t){t.exports=JSON.parse('{"icons":["iconfontcanyin","gongzizhuanhuan","shucai","jianzhi","lijin","lingshi","shuiguo","jiaotong","gouwu","jiangjin","jianshen","weishang","baoxiao","riyongcopy2"]}')},dd24:function(t,e,a){"use strict";var n=a("9505"),i=a.n(n);i.a},e474:function(t,e,a){"use strict";var n=a("5205"),i=a.n(n);i.a},e491:function(t,e,a){"use strict";var n=a("44a1"),i=a.n(n);i.a},e64d:function(t,e,a){},fb21:function(t,e,a){"use strict";var n=a("2d45"),i=a.n(n);i.a},ff21:function(t,e,a){}});
//# sourceMappingURL=app.08f0017a.js.map